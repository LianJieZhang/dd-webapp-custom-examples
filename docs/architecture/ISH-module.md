# ISH module exposes REST API for content retrieval

| URL, Class and method  | Description  | Errors |
| :--- | :--- | :--- |
| <nobr>URL: <b>/api/page/{publicationId}/{pageId}/**</b></nobr><br><nobr>Class: <b>IshController</b></nobr> <br><nobr>Method: <b>getPage</b></nobr> | Gets page in JSON format to let UI render it using capabilities of React. {publicationId} and {pageId} are parameters put in URL. <br> PageModel class from DXA is used to build JSON response. <br>It checks whether publication is online then actually fetches page. | <ul><li>Response "Unable to find publication {publicaionId}" will be returned when wrong publicationId was specified. <li>"Page not found..." is returned as response when wrong pageId was specified.</ul> |
| <nobr>URL: <b>/binary/{publicationId}/{binaryId}/**</b></nobr><br><nobr>Class: <b>IshController</b></nobr> <br><nobr>Method: <b>getBinaryResource</b></nobr> | Used to get binary data such as images, video, etc for {publicationId} and {binaryId} URL parameters. Performs check whether publication online before fetching binary data. | Response with 404 page will return in case if resource could not be found (wrong publication Id, binary Id or any other reason) |
| <nobr>URL: <b>/api/publications</b></nobr><br><nobr>Class: <b>IshController</b></nobr> <br><nobr>Method: <b>getPublicationList</b></nobr> | Gets list of available online publications. | No specific errors can occur. |
| <nobr>URL: <b>/api/toc/{publicationId}</b></nobr><br><nobr>Class: <b>IshController</b></nobr> <br><nobr>Method: <b>getRootToc</b></nobr> | Gets root ToC for publication with {publicationId} provided in URL. <br><b>conditions</b> parameter of the request is used to provide conditions which where chosen by user. It can be empty or even not specified. Has next format: ```{"publicationId":{publicationId},"userConditions":{{conditionname}:{conditionavalues}}}```| Response with message "Unable to find publication {publicationId}" will be returned if wrong publicationId will be specified |
| <nobr>URL: <b>/api/toc/{publicationId}/{sitemapItemId}</b></nobr><br><nobr>Class: <b>IshController</b></nobr> <br><nobr>Method: <b>getToc</b></nobr> | Gets ToC part by {publicationId} and {sitemapItemId} provided in URL.Gets root ToC for publication with {publicationId} provided in URL. <br><b>conditions</b> parameter of the request is used to provide conditions which where chosen by user. It can be empty or even not specified. Has next format: ```{"publicationId":{publicationId},"userConditions":{{conditionname}:{conditionavalues}}}``` <br> <b>includeAncestors</b> request parameter has false or true value. It identifies whether ancestors of map with sitemapItemId should be also loaded. | <ul><li>Response "Unable to find publication {publicaionId}" will be returned when wrong publicationId was specified. <li>"Keyword '{tcmId}' in Taxonomy ''{tcmId}'' was not found." will be returned if wrong sitemapItemId will be specified</ul> |
| <nobr>URL: <b>/api/conditions/{publicationId:[\\d]+}</b></nobr><br><nobr>Class: <b>IshController</b></nobr> <br><nobr>Method: <b>getPublicationConditions</b></nobr> | Gets conditions of publication with publicationId which is specified in URL. | Response "Unable to find publication {publicaionId}" will be returned when wrong publicationId was specified. |
| <nobr>URL: <b>/api/sitemap.xml</b></nobr><br><nobr>Class: <b>SitemapController</b></nobr> <br><nobr>Method: <b>create</b></nobr> | Gets data for sitemap from UDP using CIL and then generates sitemap.xml file which is returned as response. | Timeout exception can happen. You should increase ConnectionTimeout in cd_client_conf.xml |