# ISH module exposes REST API for content retrieval

| URL | Class and method  | Description  | Errors |
| :-----: | :----: | :----: | :----: |
| /api/page/{publicationId}/{pageId}/** | <nobr>Class: IshController</nobr> <br><nobr>Method: getPage</nobr> | Gets page in JSON format to let UI render it using capabilities of React. {publicationId} and {pageId} are parameters put in URL. <br> PageModel class from DXA is used to build JSON response. <br>It checks whether publication is online then actually fetches page. | <ul><li>Response "Unable to find publication {publicaionId}" will be returned when wrong publicationId was specified. <li>"Page not found..." is returned as response when wrong pageId was specified.</ul> |
| /binary/{publicationId}/{binaryId}/** | <nobr>Class: IshController</nobr> <br><nobr>Method: getBinaryResource</nobr> | Used to get binary data such as images, video, etc for {publicationId} and {binaryId} URL parameters. Performs check whether publication online before fetching binary data. | Response with 404 page will return in case if resource could not be found (wrong publication Id, binary Id or any other reason) |
| /api/publications | <nobr>Class: IshController</nobr> <br><nobr>Method: getPublicationList</nobr> | Gets list of available online publications. | No specific errors can occur. |
| /api/toc/{publicationId} | <nobr>Class: IshController</nobr> <br><nobr>Method: getRootToc</nobr> | Gets root ToC for publication with {publicationId} provided in URL. <br><b>conditions</b> parameter of the request is used to provide conditions which where chosen by user. It can be empty or even not specified. Has next format: ```{"publicationId":{publicationId},"userConditions":{{conditionname}:{conditionavalues}}}```| Response with message "Unable to find publication {publicationId}" will be returned if wrong publicationId will be specified |
| /api/toc/{publicationId}/{sitemapItemId} | <nobr>Class: IshController</nobr> <br><nobr>Method: getToc</nobr> | Gets ToC part by {publicationId} and {sitemapItemId} provided in URL.Gets root ToC for publication with {publicationId} provided in URL. <br><b>conditions</b> parameter of the request is used to provide conditions which where chosen by user. It can be empty or even not specified. Has next format: ```{"publicationId":{publicationId},"userConditions":{{conditionname}:{conditionavalues}}}``` <br> <b>includeAncestors</b> request parameter has false or true value. It identifies whether ancestors of map with sitemapItemId should be also loaded. | <ul><li>Response "Unable to find publication {publicaionId}" will be returned when wrong publicationId was specified. <li>"Keyword '{tcmId}' in Taxonomy ''{tcmId}'' was not found." will be returned if wrong sitemapItemId will be specified</ul> |
| /api/conditions/{publicationId:[\\d]+} | <nobr>Class: IshController</nobr> <br><nobr>Method: getPublicationConditions</nobr> | Gets conditions of publication with publicationId which is specified in URL. | Response "Unable to find publication {publicaionId}" will be returned when wrong publicationId was specified. |
| /api/sitemap.xml | <nobr>Class: SitemapController</nobr> <br><nobr>Method: create</nobr> | Gets data for sitemap from UDP using CIL and then generates sitemap.xml file which is returned as response. | Timeout exception can happen. You should increase ConnectionTimeout in cd_client_conf.xml |